import tweepy
import os
from datetime import datetime
import random

# جلب مفاتيح تويتر من GitHub Secrets
API_KEY = os.environ['API_KEY']
API_SECRET = os.environ['API_SECRET']
ACCESS_TOKEN = os.environ['ACCESS_TOKEN']
ACCESS_SECRET = os.environ['ACCESS_SECRET']

# قائمة التغريدات الجذابة مع جملة "مفسر أحلام" في كل منشور
tweets = [
    "🔮 مفسر أحلام متخصص! ✨\nالشيخ أبو ليث يفسر أحلامك بدقة وفق الكتاب والسنة 📖\nتواصل عبر الواتساب: https://wa.me/966507286134",
    
    "🌙 حلمت بشيء غريب؟ استشر مفسر أحلام محترف! 🌟\nتفسير شرعي دقيق لجميع الرؤى والأحلام\nراسل مفسر الأحلام الآن: https://wa.me/966507286134",
    
    "💫 مفسر أحلام معتمد يقدم لك خدمة مميزة! ⏰\nتفسير احترافي خلال 24 ساعة بأسعار تنافسية 🏆\nتواصل مع مفسر الأحلام: https://wa.me/966507286134",
    
    "📚 يحتاج إلى مفسر أحلام خبير؟ 👑\nالشيخ أبو ليث مفسر أحلام متخصص بتفسير الرؤى بدقة\n💬 WhatsApp مفسر الأحلام: https://wa.me/966507286134",
    
    "🌌 لديك حلم محير؟ استشر مفسر أحلام متمرس! 🌈\nتفسير احترافي لجميع أنواع الأحلام والرؤى\nمفسر أحلام على WhatsApp: https://wa.me/966507286134",
    
    "🎯 أفضل مفسر أحلام في الخليج! 🔍\nتفسير علمي شرعي دقيق لجميع الأحلام\n🚀 تواصل مع مفسر الأحلام: https://wa.me/966507286134",
    
    "⚡ مفسر أحلام سريع الاستجابة! ⚡\nتفسير فوري للأحلام والرؤى على مدار الساعة\n📲 مفسر أحلام على الواتس: https://wa.me/966507286134",
    
    "💎 تجربة مميزة مع مفسر أحلام محترف! 💎\nتفسير دقيق وواضح لجميع أحلامك\n🌟 مفسر الأحلام Abu Laith: https://wa.me/966507286134",
    
    "🌠 ثقة وخصوصية مع مفسر أحلام معتمد! 🔒\nتفسير احترافي مع الحفاظ على سرية المعلومات\n🤝 مفسر أحلام ثقة: https://wa.me/966507286134",
    
    "🏆 مفسر أحلام بخبرة أكثر من 10 سنوات! 📅\nآلاف التفسيرات الناجحة لعملاء راضين\n⭐ تواصل مع مفسر الأحلام: https://wa.me/966507286134",
    
    "✨ استشارة مجانية مع مفسر أحلام! 🎁\nاحصل على نظرة أولية مجانية لتفسير حلمك\n📞 مفسر أحلام مجاني: https://wa.me/966507286134",
    
    "🔥 مفسر أحلام متواجد 24/7! 🌙☀️\nتفسير فوري في أي وقت تناسبك\n⚡ مفسر أحلام سريع: https://wa.me/966507286134"
]

def main():
    # الاتصال بتويتر
    auth = tweepy.OAuthHandler(API_KEY, API_SECRET)
    auth.set_access_token(ACCESS_TOKEN, ACCESS_SECRET)
    api = tweepy.API(auth)
    
    # اختيار تغريدة عشوائية
    tweet = random.choice(tweets)
    
    try:
        api.update_status(tweet)
        print(f"✅ تم النشر بنجاح: {tweet}")
    except Exception as e:
        print(f"❌ خطأ في النشر: {e}")

if __name__ == "__main__":
    main()
