import os
import tweepy
import random
import time

# ููุงุชูุญ ุงูุฏุฎูู ูู GitHub Secrets
API_KEY = os.getenv("API_KEY")
API_SECRET = os.getenv("API_SECRET")
ACCESS_TOKEN = os.getenv("ACCESS_TOKEN")
ACCESS_TOKEN_SECRET = os.getenv("ACCESS_TOKEN_SECRET")

# ุงููุตุงุฏูุฉ ุจุงุณุชุฎุฏุงู Tweepy Client v2
client = tweepy.Client(
    consumer_key=API_KEY,
    consumer_secret=API_SECRET,
    access_token=ACCESS_TOKEN,
    access_token_secret=ACCESS_TOKEN_SECRET
)

# ููุดูุฑุงุช ุงูุดูุฎ ุฃุจู ููุซ
posts = [
    "ูุง ุจูุงุช ุงูุง ุฌุฑุจุช ุงูุดูุฎ ููุณุฑ ุงุญูุงู ูุฐุง ููุณุฑ ูู ุญูู ูุงู ูููููู ูู ูุชุฑุฉ ููุงููู ุฑูุญูู ุจููุงูู ูุชูุณูุฑู ูุงุถุญ ูุตุงุฏู ููุง ุญุณูุช ุจุฃู ุชุฑุฏุฏ ุจูุตุญูู ุชุชูุงุตููู ูุนู ุนูู ุงูุฑูู\nwa.me/966507286134",

    "ุจููู ููู ูู ุชุฌุฑุจุฉ ุดุฎุตูุฉ ุงูุง ููุช ูุญุชุงุฑุฉ ูู ุญูู ุชูุฑุฑ ูุนู ุงูุซุฑ ูู ูุฑุฉ ูููุง ุชูุงุตูุช ูุน ุงูุดูุฎ ููุณุฑ ุงูุงุญูุงู ุดุฑุญ ูู ูู ุดู ุจุทุฑููุฉ ุดุฑุนูุฉ ููููููุฉ ุงุฑุชุญุช ุจุนุฏูุง ูุซูุฑ ุงูุตุญูู ูุง ุชุชุฑุฏุฏูู ุชุฑุง ุฑููู ูุฐุง\nwa.me/966507286134",

    "ุงูุง ูุญุฏุฉ ูุซููู ููุช ุฏุงูู ุงุดูู ุงุญูุงู ุบุฑูุจุฉ ููุง ุงุนุฑู ูุนูุงูุง ูููุง ุงุฑุณูุช ุญููู ููุดูุฎ ุฌุงูุจูู ุจุณุฑุนุฉ ููุงู ููุงูู ูููุน ูุดุฑุญ ูู ุงูุงููุฑ ุจูุถูุญ ุงูุตุญ ูู ุจูุช ูุญุชุงุฑุฉ ุชุฑุงุณูู ุนูู ุงูุฑูู\nwa.me/966507286134",

    "ุจูุงุช ูุง ุชุถูุนูู ููุชูู ูุน ูุงุณ ููุณุฑูู ูู ุฑุงุณูู ุงูุง ุฌุฑุจุช ุงูุดูุฎ ูุฐุง ููุณุฑ ุงุญูุงู ุดุฑุนู ููุนุฑูู ุจุงูุตุฏู ูููุง ููููู ุนู ุญููู ุญุณูุช ุงูู ูุทูุฆูุฉ ูุฐุง ุฑููู\nwa.me/966507286134",

    "ุงูุง ููุช ุงุชุฑุฏุฏ ุงุชููู ุนู ุญููู ููู ููุง ุชูุงุตูุช ูุน ุงูุดูุฎ ูููุช ุนูุฏู ุงุณููุจ ูุฑูุญ ูููุณุฑ ุจุนูู ุดุฑุนู ูุจูุถูุญ ููุง ูุทูู ุจุงูุฑุฏ ุจุตุฑุงุญุฉ ุงูุตุญูู ููู\nwa.me/966507286134",

    "ุจูุงุช ุงุฐุง ุชุจูู ููุณุฑ ุงุญูุงู ุซูุฉ ุชุฑู ูุฐุง ุงูุดูุฎ ุงูุง ุฌุฑุจุชู ุดุฎุตูุง ูุฑุฏ ุนูู ุจุชูุณูุฑ ุฏููู ููุจุงุดุฑ ุจุฏูู ูู ูุฏูุฑุงู ูุงุฑุชุญุช ูู ูู ูุจูุฑ ูุงู ูููู\nwa.me/966507286134",

    "ุงูุง ูุง ุงุญุจ ุงูุฏุญ ุงุญุฏ ุงูุง ุนู ุชุฌุฑุจุฉ ูุงูุดูุฎ ูุฐุง ูุนูุง ูุณุชุงูู ุงูุชูุฏูุฑ ูุงูู ูุณุฑ ูู ุญูู ุจุทุฑููุฉ ุดุฑุนูุฉ ูุจุงุณููุจ ุฌููู ูุงุฑุชุญุช ูู ุงูููู ุงููู ููุช ููู ููุฐุง ุฑููู\nwa.me/966507286134",

    "ูุซูุฑ ุจูุงุช ูุณุงูููู ุนู ููุณุฑ ุงุญูุงู ููุซูู ูุงูุง ุงุดูุฏ ุงู ุงูุดูุฎ ูุฐุง ูุฑุฏ ุจุณุฑุนุฉ ูููุณุฑ ุจุตุฏู ููุถูุญ ููุฑูุญ ููุจู ุงุฐุง ููุชู ูุญุชุงุฑุฉ ููุฐุง ุฑููู\nwa.me/966507286134",

    "ุจูุงุช ุงูุง ููุช ุฎุงููุฉ ูู ุญูู ุดูุชู ูุงุฑุณูุช ููุดูุฎ ูุงูุญูุฏููู ุดุฑุญ ูู ูู ุดู ุจุทุฑููุฉ ุชุฎูู ุงููุงุญุฏ ูุทูุฆู ูุนูุง ุงูุณุงู ุซูุฉ ูุงูุตุญูู ุชุชูุงุตููู ูุนู\nwa.me/966507286134",

    "ุงูุง ูู ุงููุงุณ ุงููู ูุง ุงุฑุชุงุญ ูุฃู ุชูุณูุฑ ุจุณ ููู ุฌุฑุจุช ุงูุดูุฎ ูุฐุง ููุณุฑ ุงุญูุงู ุญุณูุช ูุฑู ูุจูุฑ ูุงูู ููุงูู ูุจูู ุนูู ุนูู ููุฎููู ูุงุซูุฉ ูู ุงูุชูุณูุฑ ููุฐุง ุฑููู\nwa.me/966507286134",

    "ุจูุงุช ุงููู ุชุจุญุซูู ุนู ููุณุฑ ุงุญูุงู ุซูุฉ ูุง ุชุดูููู ูู ุงูุง ุฌุฑุจุช ุงูุดูุฎ ูุฐุง ูุฑุฏ ุนูู ุจุณุฑุนุฉ ูุชูุณูุฑู ูุงุถุญ ููุฎุชุตุฑ ููุฑูุญ ุงูุจุงู\nwa.me/966507286134",

    "ุงูุง ููุช ูุญุชุงุฑุฉ ุจูู ููุณุฑูู ูุซูุฑ ููู ููุง ุฌุฑุจุช ูุฐุง ุงูุดูุฎ ูููุช ุงูุชูุณูุฑ ุนูุฏู ูุจูู ุนูู ุงูุดุฑุน ููุฑูุญ ุงูููุจ ููุจูู ูู ูุนูู ุงูุฑุคูุง ุจุดูู ูุงุถุญ ุงูุตุญูู ููู\nwa.me/966507286134",

    "ุจูุงุช ุงุฐุง ุนูุฏูู ุงุญูุงู ุชุฎูููู ูุง ุชุณูุชูู ุนูููุง ุงูุง ููุช ูุฐุง ูููุง ุฑุงุณูุช ุงูุดูุฎ ูุณุฑ ูู ุงูุญูู ูุงุฑุชุญุช ูู ูู ุฎููู ูุนูุง ูุณุชุงูู ุงูุซูุฉ\nwa.me/966507286134",

    "ูุง ุจูุงุช ูุฐุง ุงูุดูุฎ ููุณุฑ ุงุญูุงู ูุงูุง ุงุดูุฏ ูู ุจุงูุตุฏู ูุงู ุชูุณูุฑู ุฏููู ููุง ูุทูู ุนููู ููุฎููู ุชููููู ุญููู ุจุณุฑุนุฉ ููุฐุง ุฑููู\nwa.me/966507286134",

    "ุงูุง ูู ูุชุฑุฉ ุญููุช ุญูู ุฎูุงูู ุงููุฑ ููู ูุซูุฑ ูููุง ุชูุงุตูุช ูุน ุงูุดูุฎ ุดุฑุญู ูู ููุงู ููุงูู ูููุน ููุงุถุญ ููุง ุชุฑููู ูุญุชุงุฑุฉ ุงูุตุญูู ุชุฑุงุณูููู\nwa.me/966507286134",

    "ุจูุงุช ุตุฏูููู ุงูุง ุฌุฑุจุช ูุงุณ ูุซูุฑ ููู ูุง ุงุฑุชุญุช ุงูุง ูุน ุงูุดูุฎ ูุฐุง ูุงูู ููุณุฑ ุงุญูุงู ุดุฑุนู ููุนุทูู ุงูุชูุณูุฑ ูุจุงุดุฑุฉ ูุจุงุณููุจ ุณูู ููุงุถุญ\nwa.me/966507286134",

    "ุงูุง ูุง ููุช ูุชุนูุฏุฉ ุงูุณุฑ ุงุญูุงูู ุจุณ ููู ุญููุช ุญูู ุฎูููู ุณุฃูุช ุงูุดูุฎ ูุฐุง ููุณุฑู ูู ุจุทุฑููุฉ ุทููุชูู ูุฎูุชูู ุงุฑุชุงุญ ุงูุตุญูู ููู\nwa.me/966507286134",

    "ุจูุงุช ุงูุง ุฏุงูู ุงุฐุง ุญููุช ุดู ุงุฑุณูู ููุดูุฎ ูุฐุง ูุงูู ูุฑุฏ ุจุณุฑุนุฉ ููุง ููุตุฑ ูุนู ููุนุทูู ุชูุณูุฑ ูุงุถุญ ูุตุงุฏู ููุฐุง ุฑููู\nwa.me/966507286134",

    "ุงูุง ุฌุฑุจุช ูุซูุฑ ููู ุงูุดูุฎ ูุฐุง ุบูุฑ ููุงูู ุดุฑุนู ููุงุถุญ ููุฎููู ูุงุซูุฉ ูู ุงูุชูุณูุฑ ูุนูุง ููุณุฑ ุงุญูุงู ุซูุฉ ููุฐุง ุฑููู\nwa.me/966507286134",

    "ุจูุงุช ูุง ุชุญุชุงุฑูู ุงูุง ุนูุฏู ุชุฌุฑุจุฉ ูุน ุงูุดูุฎ ูุฐุง ูุณุฑ ูู ุญูู ููุช ูุถุงููุฉ ููู ูุฌุงูุจูู ุจููุงู ุฑูุญูู ูู ููุจู ุงูุตุญูู ูุง ุชููุชูู ุฑููู\nwa.me/966507286134",

    "ุงูุง ููุช ุงุดูู ุงุญูุงู ุบุฑูุจุฉ ููุง ุงููููุง ูููุง ุชูุงุตูุช ูุน ุงูุดูุฎ ุฌุงูุจูู ุจุณุฑุนุฉ ููุงู ููุงูู ูุงุถุญ ูุจุณูุท ูููุทูู ุงูุตุญูู ููู\nwa.me/966507286134",

    "ุจูุงุช ุตุฏูููู ุงู ุงูุดูุฎ ูุฐุง ูู ุงูุถู ุงููู ุฌุฑุจุชูู ูู ุชูุณูุฑ ุงูุงุญูุงู ูุฑุฏ ุจุณุฑุนุฉ ููุง ูุฎููู ูุญุชุงุฑุฉ ุชูุณูุฑู ูุจุฑุฏ ุงูุฎุงุทุฑ\nwa.me/966507286134",

    "ุงูุง ุฌุฑุจุช ุงูุดูุฎ ูุฐุง ุงูุซุฑ ูู ูุฑุฉ ููู ูุฑุฉ ููุณุฑ ูู ุงูุญูู ุจุดูู ูุงุถุญ ููุฑูุญ ููุนูุง ุตุงุฑ ุนูุฏู ุซูุฉ ูุจูุฑุฉ ููู ููุฐุง ุฑููู\nwa.me/966507286134",

    "ูุง ุจูุงุช ุงูุง ููุช ูุญุชุงุฑุฉ ุจุฑุคูุง ูุดุบูุชูู ูุซูุฑ ูููุง ุณุฃูุช ุงูุดูุฎ ุฌุงูุจูู ุจุชูุณูุฑ ูุงุถุญ ููุฎุชุตุฑ ูุฎูุงูู ุงุฑุชุงุญ ูุซูุฑ ุงูุตุญูู ููู\nwa.me/966507286134",

    "ุชุฌุฑุจุชู ูุน ุงูุดูุฎ ูุฐุง ูุง ุงูุณุงูุง ุญููุช ุญูู ุฎูููู ูููุง ุฑุงุณูุชู ุดุฑุญ ูู ุงูููุถูุน ุจุทุฑููุฉ ุทููุชูู ูุฎูุชูู ูุงุซูุฉ ููู ูุนูุง ููุณุฑ ุงุญูุงู ุซูุฉ\nwa.me/966507286134",

    "ุจูุงุช ุงูุง ูู ูุชุฑุฉ ุงุณุชุฎุฏู ุชูุณูุฑ ุงูุดูุฎ ูุงุญูุงูู ููู ูุฑุฉ ููุณุฑ ูู ุจุดูู ูุงุถุญ ููุจุงุดุฑ ููุฐุง ุฎูุงูู ุงุนุชูุฏ ุนููู ุจุดูู ูุงูู ุงูุตุญูู ููู\nwa.me/966507286134",

    "ุงุฐุง ุญููุชูุง ุญูู ูุฎูููู ูุง ุชูุชุธุฑูู ูุซูุฑ ุงูุง ุฌุฑุจุช ุงูุดูุฎ ูุฐุง ููุณุฑ ูู ุญููู ุจุณุฑุนุฉ ููู ุงูู ุฑุฏ ูููุช ุงููุนูู ูุงุฑุชุญุช ูุซูุฑ\nwa.me/966507286134",

    "ุจูุงุช ูุง ุชุตุฏููู ุงู ุชูุณูุฑ ูู ุงููุช ุงูุง ุฌุฑุจุช ุงูุดูุฎ ูุฐุง ุจููุณู ูุทูุนุช ุชูุณูุฑุงุชู ุฏูููุฉ ููุงุถุญุฉ ููุฐุง ุฑููู ุงูุตุญูู ูุง ุชููุชููู\nwa.me/966507286134",

    "ุงูุง ููุช ูุง ุงูุชู ุจุงูุงุญูุงู ููู ููู ุดูุช ุญูู ุถุงูููู ุฑุงุณูุช ุงูุดูุฎ ููุนูุง ูุณุฑ ูู ุจุทุฑููุฉ ุดุฑุนูุฉ ููููุนุฉ ุงูุตุญูู ุชุฑุงุณูููู ุจุฏูู ุชุฑุฏุฏ\nwa.me/966507286134",

    "ุจูุงุช ุงููู ุฏุงูู ูุณุงูููู ุนู ููุณุฑ ุงุญูุงู ุซูุฉ ุงููู ููู ูุง ุชุฏูุฑูู ุงูุซุฑ ุฌุฑุจูุง ุงูุดูุฎ ูุฐุง ุจุชุดูููู ุงููุฑู ุจุงููุณูู ููุฐุง ุฑููู\nwa.me/966507286134"
]
]

# ุงููุณูู ุงูุฅุถุงููุฉ
hashtags = ["ุจูุงุฌ#" ]
support_hashtag = "#ุฏุนู_ุงููุฑ"

# ุฏุงูุฉ ูุฅูุดุงุก ุชุบุฑูุฏุฉ ูุน ูุงุดุชุงุฌุงุช ุนุดูุงุฆูุฉ
def create_tweet():
    post = random.choice(posts)
    tags_text = " ".join(random.sample(hashtags, k=random.randint(1, len(hashtags))))
    return f"{post}\n{tags_text}"

# ุงูุชูุงุนู ูุน ููุดูุฑุงุช ุงูุฏุนู ูุจู ุงููุดุฑ
def interact_with_support():
    try:
        results = client.search_recent_tweets(query=support_hashtag, max_results=5)
        if results.data:
            for t in results.data:
                try:
                    client.like(tweet_id=t.id)
                    client.retweet(tweet_id=t.id)
                    print(f"๐น ุชู ุงูุชูุงุนู ูุน ููุดูุฑ ุฏุนู: {t.id}")
                    time.sleep(random.randint(5, 10))
                except:
                    continue
    except Exception as e:
        print(f"โ ุฎุทุฃ ุฃุซูุงุก ุงูุชูุงุนู ูุน ุฏุนู: {e}")

# ุฅุนุงุฏุฉ ุชุบุฑูุฏ ููุดูุฑุงุช ุนุดูุงุฆูุฉ ูู ุงููุณูู
def retweet_random():
    try:
        tag = random.choice(hashtags)
        results = client.search_recent_tweets(query=tag, max_results=5)
        if results.data:
            chosen = random.choice(results.data)
            client.retweet(tweet_id=chosen.id)
            print(f"๐ ุชูุช ุฅุนุงุฏุฉ ุชุบุฑูุฏ: {chosen.id}")
    except Exception as e:
        print(f"โ ุฎุทุฃ ูู ุฅุนุงุฏุฉ ุงูุชุบุฑูุฏ: {e}")

# ุชูููุฐ ุงูุจูุช ูุฑุฉ ูุงุญุฏุฉ ููู ุชุดุบูู
interact_with_support()
tweet_text = create_tweet()
try:
    response = client.create_tweet(text=tweet_text)
    print(f"โ ุชู ูุดุฑ ุชุบุฑูุฏุฉ ุงูุดูุฎ: {response.data['id']}")
except Exception as e:
    print(f"โ ุฎุทุฃ ูู ุงููุดุฑ: {e}")

for _ in range(random.randint(1,3)):
    retweet_random()
    time.sleep(random.randint(10,20))
