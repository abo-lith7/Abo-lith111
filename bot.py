import os
import tweepy
import random
import time

# ููุงุชูุญ ุงูุฏุฎูู ูู GitHub Secrets
API_KEY = os.getenv("API_KEY")
API_SECRET = os.getenv("API_SECRET")
ACCESS_TOKEN = os.getenv("ACCESS_TOKEN")
ACCESS_TOKEN_SECRET = os.getenv("ACCESS_TOKEN_SECRET")

# ุงููุตุงุฏูุฉ ุจุงุณุชุฎุฏุงู Tweepy Client v2
client = tweepy.Client(
    consumer_key=API_KEY,
    consumer_secret=API_SECRET,
    access_token=ACCESS_TOKEN,
    access_token_secret=ACCESS_TOKEN_SECRET
)

# ููุดูุฑุงุช ุงูุดูุฎ ุฃุจู ููุซ
posts = [
  "ูุง ุฌูุงุนุฉ ุงููู ูุฏูุฑ ููุณุฑ ุงุญูุงู ุดุฑุนู ููุงุถุญ ุชุฑู ูุซูุฑ ูู ุงููุงุณ ุฌุฑุจูุง ุงูุดูุฎ ูุฐุง ููููููู ูุฑุฏ ุจุณุฑุนุฉ ูููุณุฑ ุงูุฑุคู ุจุทุฑููุฉ ูุฑูุญุฉ ูุณููุฉ ุชููููุง ููุง ุชุญุชุงุฑ ุจุนุฏูุง ููุฐุง ุฑููู ููุชูุงุตู wa.me/966507286134",

  "ูุซุฑ ุงูุณุคุงู ุนู ููุณุฑ ุงุญูุงู ูููู ุซูุฉ ููุฌุฑุจ ููุง ูุทูู ุจุงูุฑุฏ ูุงููู ููุถุญ ุงูุชูุณูุฑ ุจุดูู ุณูู ูุงูุดูุฎ ูุฐุง ูุนุฑูู ุนูุฏ ูุงุณ ูุงุฌุฏ ููููู ููุฏุญูู ุงูู ููุณุฑ ุจูุถูุญ ููุฐุง ุฑููู ููุชูุงุตู wa.me/966507286134",

  "ุงุบูุจ ุงูุฑุณุงุฆู ุงููู ุชุฌููู ุชุฏูุฑ ุนูู ููุณุฑ ุงุญูุงู ุดุฑุนู ูููุซูู ูุงูุง ูุง ุญุจูุช ุงูุตุฑ ูุนูู ูุฌุจุช ููู ุฑูู ุงูุดูุฎ ุงููู ูุงุณ ูุซูุฑ ูุนุชูุฏูู ุนููู ูููุณุฑ ููู ุฑุคูุงูู ุจุทุฑููุฉ ูุงุถุญุฉ ููุฐุง ุฑููู ููุชูุงุตู wa.me/966507286134",

  "ุงููู ูุญุชุงุฑ ููุฏูุฑ ููุณุฑ ุงุญูุงู ูุนุชูุฏ ุนููู ููุซู ููู ูุซูุฑ ูู ุงููุงุณ ุงูุตุญูู ุชุชูุงุตููู ูุน ุงูุดูุฎ ูุฐุง ูุงูู ูุนุฑูู ุงูู ูุฑุฏ ุจุณุฑุนุฉ ูููุณุฑ ุจูุถูุญ ููุฎูู ุงููุงุญุฏ ูุทูุฆู ููุฐุง ุฑููู ููุชูุงุตู wa.me/966507286134",

  "ูุซูุฑ ูููู ูุณุฃู ุนู ููุณุฑ ุงุญูุงู ุดุฑุนู ููุง ูุทูู ุนูููู ุจุงูุฑุฏ ุงูุดูุฎ ูุฐุง ูุฌุฑุจ ูู ูุงุณ ูุซูุฑ ูููุณุฑ ุจุงูุฑุคูุฉ ุจุฃุณููุจ ูุงุถุญ ูุณูู ููุฐุง ุฑููู ุนุดุงู ุชุชูุงุตููู ูุนู wa.me/966507286134",

  "ูู ููู ุชุฌููู ุฑุณุงุฆู ูู ูุงุณ ูุญุชุงุฌูู ููุณุฑ ุงุญูุงู ูููู ุซูุฉ ููุฌุฑุจ ูุงูุดูุฎ ูุฐุง ูุนุฑูู ุนูุฏ ูุงุณ ูุงุฌุฏ ูููุณุฑ ุงูุฑุคูุง ุจุดูู ูุงุถุญ ููุฑูุญ ููุฐุง ุฑููู ููุชูุงุตู wa.me/966507286134",

  "ุงุฐุง ููุช ุชุฏูุฑ ููุณุฑ ุงุญูุงู ูุง ูุชุฃุฎุฑ ุนููู ูููุณุฑ ูู ุจุทุฑููุฉ ุณููุฉ ููููููุฉ ูุฐุง ุงูุดูุฎ ุงููู ุงุนุชูุฏ ุนููู ูุงุณ ูุซูุฑ ููููููู ุชูุณูุฑู ูุฑูุญ ุงูููุณ ููุฐุง ุฑููู ููุชูุงุตู wa.me/966507286134",

  "ูุซุฑ ุงูุจุญุซ ุนู ููุณุฑ ุงุญูุงู ุดุฑุนู ูุซูุฉ ูุงููู ูุนุทูู ุงูุชูุณูุฑ ุจูุถูุญ ููู ุบูุฑ ุชุนููุฏ ูุงูุดูุฎ ูุฐุง ูู ุงููู ูุนุชูุฏูู ุนููู ูุงุณ ูุซูุฑ ููุฐุง ุฑููู ุนุดุงู ุชุชูุงุตููู ูุนู ูุจุงุดุฑ wa.me/966507286134",

  "ุงููู ูุญุชุงุฌ ููุณุฑ ุงุญูุงู ุณุฑูุน ุจุงูุฑุฏ ููุนุทูู ุงูุชูุณูุฑ ุจุทุฑููุฉ ุดุฑุนูุฉ ูุงุถุญุฉ ุชุฑู ุงูุดูุฎ ูุฐุง ูุฌุฑุจ ูููุตู ููู ูู ูุงุณ ูุซูุฑ ููุฐุง ุฑููู ููุชูุงุตู wa.me/966507286134",

  "ูุซูุฑ ูููู ูุญุชุงุฌ ููุณุฑ ุงุญูุงู ูููู ูุงุถุญ ูููุณุฑ ุงูุฑุคูุง ุจุฃุณููุจ ูููุฒ ูุณูู ูุงูุดูุฎ ูุฐุง ูุนุฑูู ุงูู ูุฑุฏ ุจุณุฑุนุฉ ููุง ูุฎูููู ุชุญุชุงุฑูู ููุฐุง ุฑููู ููุชูุงุตู wa.me/966507286134",

  "ูุงุณ ูุซูุฑ ุชุจุญุซ ุนู ููุณุฑ ุงุญูุงู ุดุฑุนู ููุนุฑูู ููุง ูุชุฃุฎุฑ ุจุงูุฑุฏ ุงูุดูุฎ ูุฐุง ูุนุชูุฏูู ุนููู ูุงุณ ูุงุฌุฏ ููููููู ุชูุณูุฑู ูุงุถุญ ูุณูู ููุฐุง ุฑููู ููุชูุงุตู ุงููุจุงุดุฑ wa.me/966507286134",

  "ุงุฐุง ููุช ุชุฏูุฑ ููุณุฑ ุงุญูุงู ุดุฑุนู ูููุซูู ูุฐุง ุงูุดูุฎ ูุฌุฑุจ ูู ูุงุณ ูุซูุฑ ูููุณุฑ ุงูุฑุคู ุจุทุฑููุฉ ุชุฎูู ููุจู ูุทูุฆู ููุฐุง ุฑููู ููุชูุงุตู ุงููุจุงุดุฑ wa.me/966507286134",

  "ูุซูุฑ ูููู ูุญุชุงุฑ ุจุฏูุฑ ุนูู ููุณุฑ ุงุญูุงู ูุงุถุญ ูุณุฑูุน ุจุงูุฑุฏ ุนุดุงู ูุฐุง ุฌุจุช ููู ุฑูู ุงูุดูุฎ ุงููู ูุงุณ ูุซูุฑ ูุนุชูุฏูู ุนููู ููุฐุง ุฑููู wa.me/966507286134",

  "ุงุบูุจ ุงููู ูุณุฃูููู ุนู ููุณุฑ ุงุญูุงู ุดุฑุนู ุงููููู ุงูุดูุฎ ูุฐุง ูู ุงูุงูุณุจ ููุณุฑ ุจูุถูุญ ูุจุงุณููุจ ุณูู ููุฌุฑุจ ูู ูุงุณ ูุงุฌุฏ ููุฐุง ุฑููู ููุชูุงุตู wa.me/966507286134",

  "ุงููู ูุจู ููุณุฑ ุงุญูุงู ูุฑุฏ ุจุณุฑุนุฉ ููููู ุชูุณูุฑู ุดุฑุนู ููุงุถุญ ูุง ูุชุฑุฏุฏ ูุชูุงุตู ูุน ุงูุดูุฎ ูุฐุง ููุฐุง ุฑููู wa.me/966507286134",

  "ุชุฑู ูุงุณ ูุงุฌุฏ ูุฏุญูุง ููุณุฑ ุงุญูุงู ูุฐุง ููุงููุง ุชูุณูุฑู ูุงุถุญ ููุฑุฏ ุจุณุฑุนุฉ ููุง ูุฎููู ุชูุชุธุฑ ููุฐุง ุฑููู wa.me/966507286134",

  "ุงุฐุง ุชุจุญุซ ุนู ููุณุฑ ุงุญูุงู ุดุฑุนู ููุฌุฑุจ ูู ูุงุณ ูุซูุฑ ุงูุดูุฎ ูุฐุง ูู ุงูุงูุถู ููุฐุง ุฑููู wa.me/966507286134",

  "ูุซูุฑ ุชุฌููู ุทูุจุงุช ุนู ููุณุฑ ุงุญูุงู ูููู ุซูุฉ ูููุซูู ููุฐุง ุงูุดูุฎ ูุนุฑูู ุนูุฏ ุงูุฌููุน ููุฐุง ุฑููู wa.me/966507286134",

  "ุงููู ูุญุชุงุฑ ุจุฏูุฑ ุนูู ููุณุฑ ุงุญูุงู ูููู ูุงุถุญ ููุฑูุญู ุจุงูุชูุณูุฑ ูุฐุง ุงูุดูุฎ ูุฌุฑุจ ูู ูุงุณ ูุงุฌุฏ ููุฐุง ุฑููู wa.me/966507286134",

  "ูุงุณ ูุงุฌุฏ ูุดูุฏูู ููุดูุฎ ูุฐุง ุงูู ุงูุถู ููุณุฑ ุงุญูุงู ูุฑุฏ ุจุณุฑุนุฉ ูููุณุฑ ุจูุถูุญ ููุฐุง ุฑููู ููุชูุงุตู wa.me/966507286134",

  "ุงุฐุง ูุฏู ุจููุณุฑ ุงุญูุงู ููุถุญ ูู ุงูุฑุคูุง ุจุงุณููุจ ุณูู ููุฑูุญ ูุฐุง ุงูุดูุฎ ูู ุงููู ุชุนุชูุฏ ุนููู ููุฐุง ุฑููู wa.me/966507286134",

  "ูุซุฑ ุงูููุงู ุนู ููุณุฑ ุงุญูุงู ุดุฑุนู ููุงุถุญ ูุงูุดูุฎ ูุฐุง ูู ุงููู ูุนุชูุฏูู ุนููู ูุซูุฑ ูู ุงููุงุณ ููุฐุง ุฑููู wa.me/966507286134",

  "ุงููู ูุชููู ูููู ููุณุฑ ุงุญูุงู ุณุฑูุน ููุฌุฑุจ ูุฐุง ุงูุดูุฎ ูุฌุฑุจ ูู ูุงุณ ูุซูุฑ ููุง ูุตุฑ ูุน ุงุญุฏ ููุฐุง ุฑููู wa.me/966507286134",

  "ูู ูู ุณุฃู ุนู ููุณุฑ ุงุญูุงู ุดุฑุนู ุงูุตูู ูุชูุงุตู ูุน ุงูุดูุฎ ูุฐุง ูุฑุฏ ุจุณุฑุนุฉ ูููุณุฑ ุจูุถูุญ ููุฐุง ุฑููู wa.me/966507286134",

  "ููุณุฑ ุงุญูุงู ููุซูู ููุฌุฑุจ ูุงููู ูุงุณ ูุซูุฑ ูุดูุฏูู ูู ุงูู ููุถุญ ุงูุฑุคูุง ููุง ูุฎูููู ุชุญุชุงุฑูู ููุฐุง ุฑููู wa.me/966507286134",

  "ุงููู ูุญุชุงุฌ ููุณุฑ ุงุญูุงู ูููู ุชูุณูุฑู ูุงุถุญ ูุณูู ุงูุดูุฎ ูุฐุง ูู ุงูุงูุณุจ ููุฐุง ุฑููู wa.me/966507286134",

  "ูุซูุฑ ูู ุงููู ุฌุฑุจูุง ูุงููุง ุงูุดูุฎ ูุฐุง ุงูุถู ููุณุฑ ุงุญูุงู ูุงูู ูุฑุฏ ุจุณุฑุนุฉ ููุง ูุชุฃุฎุฑ ููุฐุง ุฑููู wa.me/966507286134",

  "ููุณุฑ ุงุญูุงู ูุนุฑูู ููุฌุฑุจ ูู ูุงุณ ูุซูุฑ ููุง ูุชุฃุฎุฑ ุจุงูุฑุฏ ูุฐุง ุฑููู ููุชูุงุตู wa.me/966507286134",

  "ุงุฐุง ูุญุชุงุฑ ูู ุฑุคูุงู ูุชุจู ููุณุฑ ุงุญูุงู ููุถุญูุง ูู ุงูุดูุฎ ูุฐุง ูู ุงูุญู ููุฐุง ุฑููู ููุชูุงุตู wa.me/966507286134",

  "ููุณุฑ ุงุญูุงู ุณุฑูุน ููุฌุฑุจ ูุงููู ุชูุณูุฑู ูุงุถุญ ููุนุฑูู ุจูู ุงููุงุณ ููุฐุง ุฑููู wa.me/966507286134",

  "ูุง ุฌูุงุนุฉ ุชุฑู ุงูุดูุฎ ูุฐุง ููุณุฑ ุงุญูุงู ูุนุชูุฏูู ุนููู ูุงุณ ูุซูุฑ ููุง ููุตุฑ ูุน ุงุญุฏ ููุฐุง ุฑููู wa.me/966507286134",

  "ูุซูุฑ ูู ุงููุงุณ ูุดูุฏูู ููุดูุฎ ุงูู ุงูุถู ููุณุฑ ุงุญูุงู ููุณุฑ ุจูุถูุญ ููุฑุฏ ุจุณุฑุนุฉ ููุฐุง ุฑููู wa.me/966507286134",

  "ููุณุฑ ุงุญูุงู ููุซูู ููุนุฑูู ููุฌุฑุจ ูู ูุงุณ ูุงุฌุฏ ููุฐุง ุฑููู ููุชูุงุตู wa.me/966507286134",

  "ุงููู ูุณุฃู ุนู ููุณุฑ ุงุญูุงู ูููู ูุงุถุญ ูุณุฑูุน ุจุงูุฑุฏ ุงูุดูุฎ ูุฐุง ูู ุงููู ุชุฏูุฑููู ููุฐุง ุฑููู wa.me/966507286134",

  "ูุซูุฑ ุงููู ุฌุฑุจูุง ุงูุดูุฎ ูุฐุง ูุงููุง ุงูู ููุณุฑ ุงุญูุงู ุดุฑุนู ููููุฒ ููุฐุง ุฑููู ููุชูุงุตู wa.me/966507286134",

  "ููุณุฑ ุงุญูุงู ูุนุฑูู ููุง ูุชุฃุฎุฑ ููุฑุฏ ุจุณุฑุนุฉ ูููุณุฑ ุจูุถูุญ ููุฐุง ุฑููู wa.me/966507286134",

  "ุงููู ูุฏูุฑ ููุณุฑ ุงุญูุงู ุดุฑุนู ูุฌุฑุจ ูู ูุงุณ ูุซูุฑ ููุง ูุทูู ุจุงูุฑุฏ ูุฐุง ุฑููู wa.me/966507286134",

  "ููุณุฑ ุงุญูุงู ููุตู ููู ูู ูุงุณ ูุซูุฑ ููููู ููุฏุญูู ูุถูุญ ุงูุชูุณูุฑ ููุฐุง ุฑููู ููุชูุงุตู wa.me/966507286134",

  "ุงุฐุง ููุช ุชุญุชุงุฌ ููุณุฑ ุงุญูุงู ุดุฑุนู ููุงุถุญ ููุง ูุชุฃุฎุฑ ุจุงูุฑุฏ ุงูุดูุฎ ูุฐุง ูู ุงูุงูุถู ููุฐุง ุฑููู wa.me/966507286134"
]
# ุงููุณูู ุงูุฅุถุงููุฉ
hashtags = ["#ุจูุงุฌ"]
support_hashtag = "#ุฏุนู_ุงููุฑ"

# ุฏุงูุฉ ูุฅูุดุงุก ุชุบุฑูุฏุฉ ูุน ูุงุดุชุงุฌุงุช ุนุดูุงุฆูุฉ
def create_tweet():
    post = random.choice(posts)
    tags_text = " ".join(random.sample(hashtags, k=random.randint(1, len(hashtags))))
    return f"{post}\n{tags_text}"

# ุงูุชูุงุนู ูุน ููุดูุฑุงุช ุงูุฏุนู ูุจู ุงููุดุฑ
def interact_with_support():
    try:
        results = client.search_recent_tweets(query=support_hashtag, max_results=5)
        if results.data:
            for t in results.data:
                try:
                    client.like(tweet_id=t.id)
                    client.retweet(tweet_id=t.id)
                    print(f"๐น ุชู ุงูุชูุงุนู ูุน ููุดูุฑ ุฏุนู: {t.id}")
                    time.sleep(random.randint(5, 10))
                except:
                    continue
    except Exception as e:
        print(f"โ ุฎุทุฃ ุฃุซูุงุก ุงูุชูุงุนู ูุน ุฏุนู: {e}")

# ุฅุนุงุฏุฉ ุชุบุฑูุฏ ููุดูุฑุงุช ุนุดูุงุฆูุฉ ูู ุงููุณูู
def retweet_random():
    try:
        tag = random.choice(hashtags)
        results = client.search_recent_tweets(query=tag, max_results=5)
        if results.data:
            chosen = random.choice(results.data)
            client.retweet(tweet_id=chosen.id)
            print(f"๐ ุชูุช ุฅุนุงุฏุฉ ุชุบุฑูุฏ: {chosen.id}")
    except Exception as e:
        print(f"โ ุฎุทุฃ ูู ุฅุนุงุฏุฉ ุงูุชุบุฑูุฏ: {e}")

# ุชูููุฐ ุงูุจูุช ูุฑุฉ ูุงุญุฏุฉ ููู ุชุดุบูู
interact_with_support()
tweet_text = create_tweet()
try:
    response = client.create_tweet(text=tweet_text)
    print(f"โ ุชู ูุดุฑ ุชุบุฑูุฏุฉ ุงูุดูุฎ: {response.data['id']}")
except Exception as e:
    print(f"โ ุฎุทุฃ ูู ุงููุดุฑ: {e}")

for _ in range(random.randint(1,3)):
    retweet_random()
    time.sleep(random.randint(10,20))
